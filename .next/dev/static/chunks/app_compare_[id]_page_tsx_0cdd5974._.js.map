{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/document-versioning-ui/app/compare/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useParams } from \"next/navigation\";\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport {\r\n  ArrowLeftIcon,\r\n  DocumentTextIcon,\r\n  ClockIcon,\r\n  ArrowPathIcon,\r\n  ExclamationTriangleIcon,\r\n  DocumentMagnifyingGlassIcon,\r\n  SparklesIcon,\r\n  LightBulbIcon,\r\n  ClipboardIcon,\r\n  FunnelIcon,\r\n  MagnifyingGlassIcon,\r\n  ChatBubbleLeftRightIcon,\r\n  PaperAirplaneIcon,\r\n} from \"@heroicons/react/24/outline\";\r\n\r\ntype ChangeType = \"ADDED\" | \"REMOVED\" | \"MODIFIED\";\r\ntype RiskLevel = \"LOW\" | \"MEDIUM\" | \"HIGH\";\r\ntype AiMode = \"short\" | \"detailed\" | \"legal\" | \"risk\";\r\n\r\ntype ChangeItem = {\r\n  id: number;\r\n  change_type: ChangeType;\r\n  section_label: string | null;\r\n  old_text: string | null;\r\n  new_text: string | null;\r\n  risk_level?: RiskLevel | null;\r\n  ai_comment?: string | null;\r\n  ai_suggestion?: string | null;\r\n  risk_reason?: string | null;\r\n};\r\n\r\ntype ComparisonDetail = {\r\n  id: number;\r\n  document_name: string;\r\n  version_old_label: string;\r\n  version_new_label: string;\r\n  created_at: string;\r\n  overall_risk_level?: string | null;\r\n  summary_text?: string | null;\r\n  changes: ChangeItem[];\r\n};\r\n\r\n// ------------------------ helpers ------------------------\r\n\r\nfunction normalizeText(s?: string | null) {\r\n  return (s || \"\").toString().trim();\r\n}\r\n\r\nfunction riskRank(level?: string | null) {\r\n  const lv = (level || \"LOW\").toUpperCase();\r\n  if (lv === \"HIGH\") return 3;\r\n  if (lv === \"MEDIUM\") return 2;\r\n  return 1;\r\n}\r\n\r\nfunction contains(hay: string, needle: string) {\r\n  return hay.toLowerCase().includes(needle.toLowerCase());\r\n}\r\n\r\nfunction formatDateTime(iso: string) {\r\n  try {\r\n    return new Date(iso).toLocaleString(\"th-TH\", {\r\n      year: \"numeric\",\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n    });\r\n  } catch {\r\n    return iso;\r\n  }\r\n}\r\n\r\nfunction riskBadge(risk?: string | null) {\r\n  const base = \"px-2 py-1 rounded-full text-xs font-semibold\";\r\n  const level = (risk || \"LOW\").toUpperCase();\r\n\r\n  if (level === \"HIGH\")\r\n    return <span className={`${base} bg-red-100 text-red-700`}>HIGH</span>;\r\n  if (level === \"MEDIUM\")\r\n    return <span className={`${base} bg-amber-100 text-amber-700`}>MEDIUM</span>;\r\n  return <span className={`${base} bg-emerald-100 text-emerald-700`}>LOW</span>;\r\n}\r\n\r\nfunction changeTypeBadge(type: string) {\r\n  const base = \"px-2 py-1 rounded text-xs font-medium\";\r\n  if (type === \"ADDED\")\r\n    return (\r\n      <span className={`${base} bg-emerald-100 text-emerald-700`}>+ ADDED</span>\r\n    );\r\n  if (type === \"REMOVED\")\r\n    return (\r\n      <span className={`${base} bg-red-100 text-red-700`}>- REMOVED</span>\r\n    );\r\n  return (\r\n    <span className={`${base} bg-amber-100 text-amber-700`}>MODIFIED</span>\r\n  );\r\n}\r\n\r\nasync function copyToClipboard(text: string) {\r\n  try {\r\n    await navigator.clipboard.writeText(text);\r\n    return true;\r\n  } catch {\r\n    try {\r\n      const el = document.createElement(\"textarea\");\r\n      el.value = text;\r\n      document.body.appendChild(el);\r\n      el.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(el);\r\n      return true;\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\nfunction CopyButton({\r\n  text,\r\n  label = \"Copy\",\r\n  className = \"\",\r\n  onCopied,\r\n}: {\r\n  text: string;\r\n  label?: string;\r\n  className?: string;\r\n  onCopied?: (ok: boolean) => void;\r\n}) {\r\n  const disabled = !text || text.trim().length === 0;\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      disabled={disabled}\r\n      onClick={async () => {\r\n        const ok = await copyToClipboard(text);\r\n        onCopied?.(ok);\r\n      }}\r\n      className={[\r\n        \"inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs border font-semibold\",\r\n        disabled\r\n          ? \"opacity-50 cursor-not-allowed border-slate-200 text-slate-400\"\r\n          : \"border-slate-200 text-slate-900 hover:bg-slate-50\",\r\n        className,\r\n      ].join(\" \")}\r\n      title={disabled ? \"ไม่มีข้อความให้คัดลอก\" : \"คัดลอกไป clipboard\"}\r\n    >\r\n      <ClipboardIcon className=\"h-4 w-4\" />\r\n      {label}\r\n    </button>\r\n  );\r\n}\r\n\r\nfunction ExpandableText({\r\n  text,\r\n  emptyText,\r\n  tone = \"neutral\",\r\n}: {\r\n  text: string | null | undefined;\r\n  emptyText: string;\r\n  tone?: \"old\" | \"new\" | \"aiComment\" | \"aiSuggestion\" | \"neutral\";\r\n}) {\r\n  const raw = normalizeText(text);\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  const THRESHOLD = 520;\r\n  const isLong = raw.length > THRESHOLD;\r\n  const shown = expanded || !isLong ? raw : raw.slice(0, THRESHOLD) + \"…\";\r\n\r\n  const baseText =\r\n    tone === \"old\"\r\n      ? \"text-red-900\"\r\n      : tone === \"new\"\r\n      ? \"text-emerald-900\"\r\n      : tone === \"aiComment\"\r\n      ? \"text-blue-900\"\r\n      : tone === \"aiSuggestion\"\r\n      ? \"text-amber-900\"\r\n      : \"text-slate-900\";\r\n\r\n  return (\r\n    <div>\r\n      <p className={`text-sm whitespace-pre-wrap ${baseText}`}>\r\n        {raw.length > 0 ? shown : emptyText}\r\n      </p>\r\n\r\n      {isLong && (\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => setExpanded((v) => !v)}\r\n          className=\"mt-2 text-xs font-semibold text-slate-900 underline underline-offset-2\"\r\n        >\r\n          {expanded ? \"ย่อข้อความ\" : \"ดูเพิ่ม\"}\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// ------------------------ main page ------------------------\r\n\r\ntype ChatState = {\r\n  open: boolean;\r\n  mode: AiMode;\r\n  question: string;\r\n  loading: boolean;\r\n  answer: string;\r\n  error: string | null;\r\n};\r\n\r\nconst API_BASE = \"http://127.0.0.1:8000\";\r\n\r\nexport default function CompareDetailPage() {\r\n  const params = useParams();\r\n  const id = params.id as string;\r\n\r\n  const [detail, setDetail] = useState<ComparisonDetail | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const [annotating, setAnnotating] = useState(false);\r\n  const [annotateError, setAnnotateError] = useState<string | null>(null);\r\n\r\n  // Filters\r\n  const [q, setQ] = useState(\"\");\r\n  const [riskFilter, setRiskFilter] = useState<\"ALL\" | RiskLevel>(\"ALL\");\r\n  const [typeFilter, setTypeFilter] = useState<\"ALL\" | ChangeType>(\"ALL\");\r\n  const [onlyNoAI, setOnlyNoAI] = useState(false);\r\n  const [sortMode, setSortMode] = useState<\r\n    \"RISK_DESC\" | \"RISK_ASC\" | \"ID_DESC\" | \"ID_ASC\"\r\n  >(\"RISK_DESC\");\r\n\r\n  // UI feedback\r\n  const [toast, setToast] = useState<string | null>(null);\r\n\r\n  // Chat ต่อ change\r\n  const [chatById, setChatById] = useState<Record<number, ChatState>>({});\r\n\r\n  useEffect(() => {\r\n    if (id) loadDetail();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (!toast) return;\r\n    const t = setTimeout(() => setToast(null), 1600);\r\n    return () => clearTimeout(t);\r\n  }, [toast]);\r\n\r\n  const loadDetail = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const res = await fetch(`${API_BASE}/comparisons/${id}`, {\r\n        cache: \"no-store\",\r\n      });\r\n      if (!res.ok) throw new Error(`Failed to load (${res.status})`);\r\n      const data: ComparisonDetail = await res.json();\r\n      setDetail(data);\r\n\r\n      // init chat state สำหรับ change ใหม่ ๆ\r\n      setChatById((prev) => {\r\n        const next = { ...prev };\r\n        for (const ch of data.changes || []) {\r\n          if (!next[ch.id]) {\r\n            next[ch.id] = {\r\n              open: false,\r\n              mode: \"risk\",\r\n              question: \"\",\r\n              loading: false,\r\n              answer: \"\",\r\n              error: null,\r\n            };\r\n          }\r\n        }\r\n        return next;\r\n      });\r\n    } catch (err: any) {\r\n      setError(err?.message || \"โหลดข้อมูลไม่สำเร็จ\");\r\n      setDetail(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAnnotate = async () => {\r\n    if (!id) return;\r\n    setAnnotating(true);\r\n    setAnnotateError(null);\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE}/comparisons/${id}/annotate`, {\r\n        method: \"POST\",\r\n      });\r\n      if (!res.ok) throw new Error(`Annotation failed (${res.status})`);\r\n\r\n      await loadDetail();\r\n      setToast(\"✅ วิเคราะห์เสร็จแล้ว\");\r\n    } catch (err: any) {\r\n      setAnnotateError(err?.message || \"วิเคราะห์ไม่สำเร็จ\");\r\n    } finally {\r\n      setAnnotating(false);\r\n    }\r\n  };\r\n\r\n  const toggleChat = (changeId: number) => {\r\n    setChatById((prev) => ({\r\n      ...prev,\r\n      [changeId]: {\r\n        ...(prev[changeId] || {\r\n          open: true,\r\n          mode: \"risk\",\r\n          question: \"\",\r\n          loading: false,\r\n          answer: \"\",\r\n          error: null,\r\n        }),\r\n        open: !(prev[changeId]?.open ?? false),\r\n        error: null,\r\n      },\r\n    }));\r\n  };\r\n\r\n  const setChatField = (\r\n    changeId: number,\r\n    patch: Partial<Pick<ChatState, \"mode\" | \"question\">>\r\n  ) => {\r\n    setChatById((prev) => ({\r\n      ...prev,\r\n      [changeId]: {\r\n        ...(prev[changeId] || {\r\n          open: true,\r\n          mode: \"risk\",\r\n          question: \"\",\r\n          loading: false,\r\n          answer: \"\",\r\n          error: null,\r\n        }),\r\n        ...patch,\r\n      },\r\n    }));\r\n  };\r\n\r\n  const sendChat = async (changeId: number) => {\r\n    const st = chatById[changeId];\r\n    const question = normalizeText(st?.question);\r\n    const mode = (st?.mode || \"risk\") as AiMode;\r\n\r\n    if (!question) {\r\n      setChatById((prev) => ({\r\n        ...prev,\r\n        [changeId]: { ...prev[changeId], error: \"พิมพ์คำถามก่อนครับ\" },\r\n      }));\r\n      return;\r\n    }\r\n\r\n    setChatById((prev) => ({\r\n      ...prev,\r\n      [changeId]: { ...prev[changeId], loading: true, error: null },\r\n    }));\r\n\r\n    try {\r\n      const res = await fetch(`${API_BASE}/changes/${changeId}/chat`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ question, mode }),\r\n      });\r\n\r\n      if (!res.ok) throw new Error(`Chat failed (${res.status})`);\r\n      const data = await res.json(); // {ok, change_id, mode, answer}\r\n\r\n      setChatById((prev) => ({\r\n        ...prev,\r\n        [changeId]: {\r\n          ...prev[changeId],\r\n          loading: false,\r\n          answer: normalizeText(data?.answer) || \"\",\r\n          error: null,\r\n        },\r\n      }));\r\n      setToast(\"✅ ได้คำตอบแล้ว\");\r\n    } catch (e: any) {\r\n      setChatById((prev) => ({\r\n        ...prev,\r\n        [changeId]: {\r\n          ...prev[changeId],\r\n          loading: false,\r\n          error: e?.message || \"ส่งคำถามไม่สำเร็จ\",\r\n        },\r\n      }));\r\n    }\r\n  };\r\n\r\n  const filteredChanges = useMemo(() => {\r\n    const changes = detail?.changes || [];\r\n    const query = q.trim();\r\n\r\n    let list = changes.filter((c) => {\r\n      if (riskFilter !== \"ALL\") {\r\n        const lv = (c.risk_level || \"LOW\").toUpperCase();\r\n        if (lv !== riskFilter) return false;\r\n      }\r\n\r\n      if (typeFilter !== \"ALL\") {\r\n        if (c.change_type !== typeFilter) return false;\r\n      }\r\n\r\n      if (onlyNoAI) {\r\n        const hasComment = normalizeText(c.ai_comment).length > 0;\r\n        const hasSuggest = normalizeText(c.ai_suggestion).length > 0;\r\n        if (hasComment && hasSuggest) return false;\r\n      }\r\n\r\n      if (query.length > 0) {\r\n        const hay = [\r\n          c.section_label,\r\n          c.old_text,\r\n          c.new_text,\r\n          c.ai_comment,\r\n          c.ai_suggestion,\r\n          c.risk_reason,\r\n          c.change_type,\r\n          c.risk_level,\r\n        ]\r\n          .map((x) => normalizeText(x as any))\r\n          .join(\" | \");\r\n\r\n        if (!contains(hay, query)) return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n\r\n    list = [...list].sort((a, b) => {\r\n      if (sortMode === \"RISK_DESC\") {\r\n        const r = riskRank(b.risk_level) - riskRank(a.risk_level);\r\n        if (r !== 0) return r;\r\n        return b.id - a.id;\r\n      }\r\n      if (sortMode === \"RISK_ASC\") {\r\n        const r = riskRank(a.risk_level) - riskRank(b.risk_level);\r\n        if (r !== 0) return r;\r\n        return a.id - b.id;\r\n      }\r\n      if (sortMode === \"ID_ASC\") return a.id - b.id;\r\n      return b.id - a.id;\r\n    });\r\n\r\n    return list;\r\n  }, [detail?.changes, q, riskFilter, typeFilter, onlyNoAI, sortMode]);\r\n\r\n  const totalCount = detail?.changes?.length || 0;\r\n  const shownCount = filteredChanges.length;\r\n\r\n  // ---------- Loading / Not found ----------\r\n  if (loading) {\r\n    return (\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        <div className=\"bg-white rounded-2xl border border-slate-200 shadow-sm p-10 text-center\">\r\n          <ArrowPathIcon className=\"h-12 w-12 animate-spin text-blue-600 mx-auto\" />\r\n          <p className=\"mt-4 text-slate-900 font-semibold\">\r\n            กำลังโหลดรายละเอียด...\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !detail) {\r\n    return (\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        <div className=\"bg-white rounded-2xl border border-slate-200 shadow-sm p-10 text-center\">\r\n          <ExclamationTriangleIcon className=\"h-12 w-12 text-red-500 mx-auto\" />\r\n          <h2 className=\"text-xl font-bold text-slate-900 mt-4\">ไม่พบข้อมูล</h2>\r\n          <p className=\"text-slate-900 mt-2 font-semibold\">\r\n            {error || \"ไม่พบรายการเปรียบเทียบนี้\"}\r\n          </p>\r\n          <div className=\"mt-6 flex flex-col sm:flex-row gap-3 justify-center\">\r\n            <Link\r\n              href=\"/history\"\r\n              className=\"px-4 py-2 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 text-slate-900 font-semibold\"\r\n            >\r\n              ← กลับไปหน้าประวัติ\r\n            </Link>\r\n            <button\r\n              onClick={loadDetail}\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold\"\r\n            >\r\n              ลองอีกครั้ง\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ---------- Main ----------\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto text-slate-900\">\r\n      {/* Toast */}\r\n      {toast && (\r\n        <div className=\"fixed top-4 right-4 z-50 bg-slate-900 text-white text-sm px-4 py-2 rounded-lg shadow-lg font-semibold\">\r\n          {toast}\r\n        </div>\r\n      )}\r\n\r\n      {/* Header */}\r\n      <div className=\"mb-8\">\r\n        <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-6\">\r\n          <Link\r\n            href=\"/history\"\r\n            className=\"inline-flex items-center gap-2 text-slate-900 font-semibold hover:opacity-90\"\r\n          >\r\n            <ArrowLeftIcon className=\"h-5 w-5\" />\r\n            กลับไปหน้าประวัติ\r\n          </Link>\r\n\r\n          <div className=\"flex items-center gap-3\">\r\n            <button\r\n              onClick={handleAnnotate}\r\n              disabled={annotating}\r\n              className=\"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:opacity-90 disabled:opacity-70\"\r\n            >\r\n              {annotating ? (\r\n                <>\r\n                  <ArrowPathIcon className=\"h-4 w-4 animate-spin\" />\r\n                  กำลังวิเคราะห์...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <SparklesIcon className=\"h-4 w-4\" />\r\n                  ให้ AI วิเคราะห์ใหม่\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Document Info Card */}\r\n        <div className=\"bg-white rounded-2xl border border-slate-200 shadow-sm p-6\">\r\n          <div className=\"flex flex-col md:flex-row md:items-start justify-between gap-6\">\r\n            <div className=\"flex-1\">\r\n              <h1 className=\"text-2xl md:text-3xl font-bold text-slate-900 mb-2\">\r\n                {detail.document_name}\r\n              </h1>\r\n              <div className=\"flex flex-wrap items-center gap-4 text-slate-900 font-semibold\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className=\"px-2 py-1 bg-violet-100 text-violet-800 text-sm rounded font-semibold\">\r\n                    {detail.version_old_label}\r\n                  </span>\r\n                  <span className=\"text-slate-900\">→</span>\r\n                  <span className=\"px-2 py-1 bg-fuchsia-100 text-fuchsia-800 text-sm rounded font-semibold\">\r\n                    {detail.version_new_label}\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <ClockIcon className=\"h-4 w-4\" />\r\n                  {formatDateTime(detail.created_at)}\r\n                </div>\r\n                <div className=\"text-sm\">ID: {detail.id}</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col items-end gap-3\">\r\n              <div className=\"text-right\">\r\n                <div className=\"text-sm text-slate-900 font-semibold mb-1\">\r\n                  ระดับความเสี่ยง\r\n                </div>\r\n                <div\r\n                  className={`text-lg font-bold ${\r\n                    detail.overall_risk_level?.includes(\"HIGH\")\r\n                      ? \"text-red-700\"\r\n                      : detail.overall_risk_level?.includes(\"MEDIUM\")\r\n                      ? \"text-amber-700\"\r\n                      : \"text-emerald-700\"\r\n                  }`}\r\n                >\r\n                  {detail.overall_risk_level || \"ไม่ระบุ\"}\r\n                </div>\r\n              </div>\r\n              <div className=\"text-right\">\r\n                <div className=\"text-sm text-slate-900 font-semibold mb-1\">\r\n                  การเปลี่ยนแปลง\r\n                </div>\r\n                <div className=\"text-lg font-bold text-blue-700\">\r\n                  {totalCount} จุด\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* AI Annotate Error */}\r\n          {annotateError && (\r\n            <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n              <p className=\"text-sm text-red-800 flex items-center gap-2 font-semibold\">\r\n                <ExclamationTriangleIcon className=\"h-4 w-4 flex-shrink-0\" />\r\n                {annotateError}\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Summary Section */}\r\n      <div className=\"mb-8\">\r\n        <div className=\"bg-white rounded-xl border border-slate-200 p-6\">\r\n          <h2 className=\"text-xl font-bold text-slate-900 mb-4 flex items-center gap-2\">\r\n            <DocumentTextIcon className=\"h-6 w-6 text-blue-700\" />\r\n            สรุปผลการเปรียบเทียบ\r\n          </h2>\r\n          <div className=\"prose max-w-none\">\r\n            <p className=\"text-slate-900 whitespace-pre-line leading-relaxed font-semibold\">\r\n              {detail.summary_text || \"ไม่มีข้อความสรุปสำหรับการเปรียบเทียบนี้\"}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"mb-6\">\r\n        <div className=\"bg-white rounded-xl border border-slate-200 p-4\">\r\n          <div className=\"flex flex-col lg:flex-row lg:items-center gap-3 lg:gap-4\">\r\n            {/* Search */}\r\n            <div className=\"flex-1\">\r\n              <div className=\"relative\">\r\n                <MagnifyingGlassIcon className=\"h-5 w-5 text-slate-600 absolute left-3 top-1/2 -translate-y-1/2\" />\r\n                <input\r\n                  value={q}\r\n                  onChange={(e) => setQ(e.target.value)}\r\n                  placeholder=\"ค้นหา: หัวข้อ / old / new / AI comment / AI suggestion ...\"\r\n                  className=\"w-full pl-10 pr-3 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-slate-900 font-semibold placeholder:text-slate-400\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Risk/type/sort */}\r\n            <div className=\"flex items-center gap-2\">\r\n              <FunnelIcon className=\"h-5 w-5 text-slate-900\" />\r\n\r\n              <select\r\n                value={riskFilter}\r\n                onChange={(e) => setRiskFilter(e.target.value as any)}\r\n                className=\"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm text-slate-900 font-semibold\"\r\n              >\r\n                <option value=\"ALL\">Risk: ทั้งหมด</option>\r\n                <option value=\"HIGH\">Risk: HIGH</option>\r\n                <option value=\"MEDIUM\">Risk: MEDIUM</option>\r\n                <option value=\"LOW\">Risk: LOW</option>\r\n              </select>\r\n\r\n              <select\r\n                value={typeFilter}\r\n                onChange={(e) => setTypeFilter(e.target.value as any)}\r\n                className=\"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm text-slate-900 font-semibold\"\r\n              >\r\n                <option value=\"ALL\">Type: ทั้งหมด</option>\r\n                <option value=\"ADDED\">ADDED</option>\r\n                <option value=\"REMOVED\">REMOVED</option>\r\n                <option value=\"MODIFIED\">MODIFIED</option>\r\n              </select>\r\n\r\n              <select\r\n                value={sortMode}\r\n                onChange={(e) => setSortMode(e.target.value as any)}\r\n                className=\"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm text-slate-900 font-semibold\"\r\n              >\r\n                <option value=\"RISK_DESC\">เรียง: Risk สูง → ต่ำ</option>\r\n                <option value=\"RISK_ASC\">เรียง: Risk ต่ำ → สูง</option>\r\n                <option value=\"ID_DESC\">เรียง: ID ใหม่ → เก่า</option>\r\n                <option value=\"ID_ASC\">เรียง: ID เก่า → ใหม่</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Only missing AI */}\r\n            <label className=\"inline-flex items-center gap-2 text-sm text-slate-900 font-semibold select-none\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={onlyNoAI}\r\n                onChange={(e) => setOnlyNoAI(e.target.checked)}\r\n                className=\"h-4 w-4 rounded border-slate-300\"\r\n              />\r\n              เฉพาะที่ AI ยังไม่ครบ\r\n            </label>\r\n\r\n            {/* Count */}\r\n            <div className=\"text-sm text-slate-900 font-semibold\">\r\n              แสดง <span className=\"font-bold text-slate-900\">{shownCount}</span> /{\" \"}\r\n              {totalCount}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Changes List */}\r\n      <div className=\"space-y-6\">\r\n        <h2 className=\"text-xl font-bold text-slate-900 flex items-center gap-2\">\r\n          <DocumentMagnifyingGlassIcon className=\"h-6 w-6 text-violet-700\" />\r\n          รายการการเปลี่ยนแปลง ({shownCount} รายการ)\r\n        </h2>\r\n\r\n        {shownCount === 0 ? (\r\n          <div className=\"bg-white rounded-xl border border-slate-200 p-6 text-slate-900 font-semibold\">\r\n            ไม่พบรายการตามเงื่อนไขที่เลือก\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n            {filteredChanges.map((change) => {\r\n              const oldText = normalizeText(change.old_text);\r\n              const newText = normalizeText(change.new_text);\r\n              const aiComment = normalizeText(change.ai_comment);\r\n              const aiSuggest = normalizeText(change.ai_suggestion);\r\n\r\n              const chat = chatById[change.id] || {\r\n                open: false,\r\n                mode: \"risk\" as AiMode,\r\n                question: \"\",\r\n                loading: false,\r\n                answer: \"\",\r\n                error: null,\r\n              };\r\n\r\n              return (\r\n                <div\r\n                  key={change.id}\r\n                  className=\"bg-white rounded-xl border border-slate-200 overflow-hidden\"\r\n                >\r\n                  {/* Change Header */}\r\n                  <div className=\"border-b border-slate-100 p-4 bg-slate-50 flex flex-wrap items-center justify-between gap-3\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      {changeTypeBadge(change.change_type)}\r\n                      <span className=\"text-sm font-bold text-slate-900\">\r\n                        {change.section_label || \"ไม่มีหัวข้อ\"}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-3\">\r\n                      {riskBadge(change.risk_level)}\r\n                      <span className=\"text-xs text-slate-900 font-semibold\">\r\n                        ID: {change.id}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Change Content */}\r\n                  <div className=\"p-4\">\r\n                    <div className=\"grid md:grid-cols-2 gap-4 mb-4\">\r\n                      {/* Old Text */}\r\n                      <div>\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                          <div className=\"text-xs font-bold text-slate-900 flex items-center gap-2\">\r\n                            <span className=\"h-2 w-2 rounded-full bg-red-500\"></span>\r\n                            เวอร์ชันเก่า\r\n                          </div>\r\n                          <CopyButton\r\n                            text={oldText}\r\n                            label=\"Copy old\"\r\n                            onCopied={(ok) =>\r\n                              setToast(ok ? \"คัดลอก old แล้ว\" : \"คัดลอกไม่สำเร็จ\")\r\n                            }\r\n                          />\r\n                        </div>\r\n                        <div className=\"bg-red-50 border border-red-100 rounded-lg p-3\">\r\n                          <div className=\"line-through\">\r\n                            <ExpandableText\r\n                              text={change.old_text}\r\n                              emptyText=\"ไม่มีข้อความ\"\r\n                              tone=\"old\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* New Text */}\r\n                      <div>\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                          <div className=\"text-xs font-bold text-slate-900 flex items-center gap-2\">\r\n                            <span className=\"h-2 w-2 rounded-full bg-emerald-500\"></span>\r\n                            เวอร์ชันใหม่\r\n                          </div>\r\n                          <CopyButton\r\n                            text={newText}\r\n                            label=\"Copy new\"\r\n                            onCopied={(ok) =>\r\n                              setToast(ok ? \"คัดลอก new แล้ว\" : \"คัดลอกไม่สำเร็จ\")\r\n                            }\r\n                          />\r\n                        </div>\r\n                        <div className=\"bg-emerald-50 border border-emerald-100 rounded-lg p-3\">\r\n                          <ExpandableText\r\n                            text={change.new_text}\r\n                            emptyText=\"ไม่มีข้อความ\"\r\n                            tone=\"new\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* AI Insights */}\r\n                    <div className=\"grid md:grid-cols-2 gap-4\">\r\n                      {/* AI Comment */}\r\n                      <div>\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                          <div className=\"text-xs font-bold text-slate-900 flex items-center gap-2\">\r\n                            <span className=\"h-2 w-2 rounded-full bg-blue-500\"></span>\r\n                            ความคิดเห็นจาก AI\r\n                          </div>\r\n                          <CopyButton\r\n                            text={aiComment}\r\n                            label=\"Copy comment\"\r\n                            onCopied={(ok) =>\r\n                              setToast(ok ? \"คัดลอก comment แล้ว\" : \"คัดลอกไม่สำเร็จ\")\r\n                            }\r\n                          />\r\n                        </div>\r\n                        <div className=\"bg-blue-50 border border-blue-100 rounded-lg p-3\">\r\n                          <ExpandableText\r\n                            text={change.ai_comment}\r\n                            emptyText=\"AI ยังไม่ได้แสดงความคิดเห็น\"\r\n                            tone=\"aiComment\"\r\n                          />\r\n                        </div>\r\n\r\n                        {normalizeText(change.risk_reason).length > 0 && (\r\n                          <div className=\"mt-2 text-xs text-slate-900 font-semibold\">\r\n                            <span className=\"font-bold\">เหตุผลความเสี่ยง:</span>{\" \"}\r\n                            {change.risk_reason}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      {/* AI Suggestion */}\r\n                      <div>\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                          <div className=\"text-xs font-bold text-slate-900 flex items-center gap-2\">\r\n                            <LightBulbIcon className=\"h-4 w-4 text-amber-600\" />\r\n                            คำแนะนำจาก AI\r\n                          </div>\r\n                          <CopyButton\r\n                            text={aiSuggest}\r\n                            label=\"Copy suggestion\"\r\n                            onCopied={(ok) =>\r\n                              setToast(\r\n                                ok ? \"คัดลอก suggestion แล้ว\" : \"คัดลอกไม่สำเร็จ\"\r\n                              )\r\n                            }\r\n                          />\r\n                        </div>\r\n                        <div className=\"bg-amber-50 border border-amber-100 rounded-lg p-3\">\r\n                          <ExpandableText\r\n                            text={change.ai_suggestion}\r\n                            emptyText=\"AI ยังไม่ได้ให้คำแนะนำ\"\r\n                            tone=\"aiSuggestion\"\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Chat ต่อ change */}\r\n                    <div className=\"mt-4\">\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => toggleChat(change.id)}\r\n                        className=\"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white hover:bg-slate-50 text-slate-900 font-semibold\"\r\n                      >\r\n                        <ChatBubbleLeftRightIcon className=\"h-5 w-5\" />\r\n                        ถาม AI เพิ่มเติม\r\n                        <span className=\"text-xs font-bold text-slate-900\">\r\n                          {chat.open ? \"▲\" : \"▼\"}\r\n                        </span>\r\n                      </button>\r\n\r\n                      {chat.open && (\r\n                        <div className=\"mt-3 rounded-xl border border-slate-200 bg-white p-4\">\r\n                          <div className=\"flex flex-col lg:flex-row gap-3 lg:items-center\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <span className=\"text-sm font-bold text-slate-900\">\r\n                                โหมด:\r\n                              </span>\r\n                              <select\r\n                                value={chat.mode}\r\n                                onChange={(e) =>\r\n                                  setChatField(change.id, {\r\n                                    mode: e.target.value as AiMode,\r\n                                  })\r\n                                }\r\n                                className=\"px-3 py-2 rounded-lg border border-slate-200 bg-white text-sm text-slate-900 font-semibold\"\r\n                              >\r\n                                <option value=\"risk\">Risk</option>\r\n                                <option value=\"short\">Short</option>\r\n                                <option value=\"detailed\">Detailed</option>\r\n                                <option value=\"legal\">Legal</option>\r\n                              </select>\r\n                            </div>\r\n\r\n                            <div className=\"flex-1\" />\r\n                            <CopyButton\r\n                              text={chat.answer}\r\n                              label=\"Copy answer\"\r\n                              onCopied={(ok) =>\r\n                                setToast(ok ? \"คัดลอกคำตอบแล้ว\" : \"คัดลอกไม่สำเร็จ\")\r\n                              }\r\n                            />\r\n                          </div>\r\n\r\n                          <div className=\"mt-3\">\r\n                            <textarea\r\n                              value={chat.question}\r\n                              onChange={(e) =>\r\n                                setChatField(change.id, { question: e.target.value })\r\n                              }\r\n                              placeholder=\"พิมพ์คำถามเกี่ยวกับ change นี้ (อ้างอิง Old/New/AI เท่านั้น)\"\r\n                              rows={3}\r\n                              className=\"w-full rounded-lg border border-slate-200 bg-white p-3 text-sm text-slate-900 font-semibold placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            />\r\n                          </div>\r\n\r\n                          {chat.error && (\r\n                            <div className=\"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-800 font-semibold\">\r\n                              {chat.error}\r\n                            </div>\r\n                          )}\r\n\r\n                          <div className=\"mt-3 flex gap-2\">\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => sendChat(change.id)}\r\n                              disabled={\r\n                                chat.loading || normalizeText(chat.question).length === 0\r\n                              }\r\n                              className=\"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-700 text-white font-semibold hover:bg-blue-800 disabled:opacity-60 disabled:cursor-not-allowed\"\r\n                            >\r\n                              {chat.loading ? (\r\n                                <>\r\n                                  <ArrowPathIcon className=\"h-4 w-4 animate-spin\" />\r\n                                  กำลังส่ง...\r\n                                </>\r\n                              ) : (\r\n                                <>\r\n                                  <PaperAirplaneIcon className=\"h-4 w-4\" />\r\n                                  ส่งคำถาม\r\n                                </>\r\n                              )}\r\n                            </button>\r\n\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() =>\r\n                                setChatById((prev) => ({\r\n                                  ...prev,\r\n                                  [change.id]: {\r\n                                    ...prev[change.id],\r\n                                    question: \"\",\r\n                                    answer: \"\",\r\n                                    error: null,\r\n                                  },\r\n                                }))\r\n                              }\r\n                              className=\"px-4 py-2 rounded-lg border border-slate-200 bg-white hover:bg-slate-50 text-slate-900 font-semibold\"\r\n                            >\r\n                              ล้าง\r\n                            </button>\r\n                          </div>\r\n\r\n                          <div className=\"mt-4\">\r\n                            <div className=\"text-sm font-bold text-slate-900 mb-2\">\r\n                              คำตอบ\r\n                            </div>\r\n                            <div className=\"rounded-lg border border-slate-200 bg-slate-50 p-3\">\r\n                              <p className=\"text-sm whitespace-pre-wrap text-slate-900 font-semibold\">\r\n                                {chat.answer || \"ยังไม่มีคำตอบ\"}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* Quick copy all */}\r\n                    <div className=\"mt-4 flex flex-wrap gap-2\">\r\n                      <CopyButton\r\n                        text={[\r\n                          `SECTION: ${change.section_label || \"-\"}`,\r\n                          `TYPE: ${change.change_type}`,\r\n                          `RISK: ${change.risk_level || \"LOW\"}`,\r\n                          \"\",\r\n                          \"OLD:\",\r\n                          oldText || \"-\",\r\n                          \"\",\r\n                          \"NEW:\",\r\n                          newText || \"-\",\r\n                          \"\",\r\n                          \"AI COMMENT:\",\r\n                          aiComment || \"-\",\r\n                          \"\",\r\n                          \"AI SUGGESTION:\",\r\n                          aiSuggest || \"-\",\r\n                        ].join(\"\\n\")}\r\n                        label=\"Copy ทั้งก้อน\"\r\n                        onCopied={(ok) =>\r\n                          setToast(ok ? \"คัดลอกทั้งก้อนแล้ว\" : \"คัดลอกไม่สำเร็จ\")\r\n                        }\r\n                        className=\"text-slate-900\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}