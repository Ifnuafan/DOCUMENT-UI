{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/document-versioning-ui/app/reports/generate/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport { useSearchParams, useRouter } from \"next/navigation\";\r\nimport {\r\n  DocumentArrowDownIcon,\r\n  DocumentTextIcon,\r\n  ChartBarIcon,\r\n  ExclamationTriangleIcon,\r\n  CheckCircleIcon,\r\n  ClockIcon,\r\n  UserIcon,\r\n  SparklesIcon,\r\n  PrinterIcon,\r\n  ShareIcon,\r\n  ArrowLeftIcon,\r\n  ArrowPathIcon,\r\n  ExclamationCircleIcon,\r\n  BuildingOfficeIcon,\r\n  ShieldCheckIcon,\r\n  DocumentCheckIcon,\r\n  ArrowRightIcon,\r\n  XMarkIcon,\r\n  InformationCircleIcon,\r\n  LightBulbIcon,\r\n  BoltIcon,\r\n} from \"@heroicons/react/24/outline\";\r\nimport html2canvas from \"html2canvas\";\r\nimport jsPDF from \"jspdf\";\r\n\r\n/* ================= TYPES ================= */\r\n\r\ntype ReportData = {\r\n  id: string;\r\n  title: string;\r\n  documentName: string;\r\n  versionFrom: string;\r\n  versionTo: string;\r\n  createdDate: string;\r\n  createdBy: string;\r\n  totalChanges: number;\r\n  highRisk: number;\r\n  mediumRisk: number;\r\n  lowRisk: number;\r\n  overallRisk: \"LOW\" | \"MEDIUM\" | \"HIGH\";\r\n  executiveSummary: string;\r\n  keyFindings: {\r\n    id: number;\r\n    description: string;\r\n    riskLevel: \"LOW\" | \"MEDIUM\" | \"HIGH\";\r\n    recommendation: string;\r\n  }[];\r\n  topRisks: string[];\r\n  aiRecommendations: string[];\r\n  preparedBy: string;\r\n  preparedDate: string;\r\n  approvalBy?: string;\r\n  approvalDate?: string;\r\n};\r\n\r\ntype ComparisonDetail = {\r\n  id: number;\r\n  document_name: string;\r\n  version_old_label: string;\r\n  version_new_label: string;\r\n  created_at: string;\r\n  overall_risk_level?: string | null;\r\n  summary_text?: string | null;\r\n  changes: Array<{\r\n    id: number;\r\n    section_label: string | null;\r\n    risk_level?: \"LOW\" | \"MEDIUM\" | \"HIGH\" | null;\r\n    ai_suggestion?: string | null;\r\n  }>;\r\n};\r\n\r\ntype DraggableWidget = {\r\n  id: string;\r\n  title: string;\r\n  content: React.ReactNode;\r\n  x: number;\r\n  y: number;\r\n  width: number;\r\n  height: number;\r\n  isCollapsed: boolean;\r\n  isDragging: boolean;\r\n  zIndex: number;\r\n};\r\n\r\nconst API_BASE =\r\n  process.env.NEXT_PUBLIC_API_BASE?.trim() || \"http://127.0.0.1:8000\";\r\n\r\n/* ================= HELPERS ================= */\r\n\r\nfunction formatDate(iso: string) {\r\n  try {\r\n    return new Date(iso).toLocaleDateString(\"th-TH\", {\r\n      year: \"numeric\",\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n    });\r\n  } catch {\r\n    return iso;\r\n  }\r\n}\r\n\r\nfunction formatDateShort(iso: string) {\r\n  try {\r\n    return new Date(iso).toLocaleDateString(\"th-TH\", {\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n      year: \"numeric\",\r\n    });\r\n  } catch {\r\n    return iso;\r\n  }\r\n}\r\n\r\nfunction RiskBadge({ level }: { level: \"LOW\" | \"MEDIUM\" | \"HIGH\" }) {\r\n  const styles = {\r\n    HIGH: \"bg-gradient-to-r from-red-50 to-red-100 text-red-800 border-red-300 shadow-sm\",\r\n    MEDIUM: \"bg-gradient-to-r from-amber-50 to-amber-100 text-amber-800 border-amber-300 shadow-sm\",\r\n    LOW: \"bg-gradient-to-r from-emerald-50 to-emerald-100 text-emerald-800 border-emerald-300 shadow-sm\",\r\n  };\r\n\r\n  return (\r\n    <span className={`px-3 py-1.5 rounded-xl border font-bold text-sm ${styles[level]} flex items-center gap-1`}>\r\n      {level === \"HIGH\" && <ExclamationTriangleIcon className=\"h-4 w-4\" />}\r\n      {level === \"MEDIUM\" && <ShieldCheckIcon className=\"h-4 w-4\" />}\r\n      {level === \"LOW\" && <CheckCircleIcon className=\"h-4 w-4\" />}\r\n      {level}\r\n    </span>\r\n  );\r\n}\r\n\r\nfunction RiskItem({ level, count }: { level: \"LOW\" | \"MEDIUM\" | \"HIGH\"; count: number }) {\r\n  const styles = {\r\n    HIGH: \"bg-gradient-to-br from-red-50 to-white border border-red-100 text-red-700 shadow-sm\",\r\n    MEDIUM: \"bg-gradient-to-br from-amber-50 to-white border border-amber-100 text-amber-700 shadow-sm\",\r\n    LOW: \"bg-gradient-to-br from-emerald-50 to-white border border-emerald-100 text-emerald-700 shadow-sm\",\r\n  };\r\n\r\n  const icons = {\r\n    HIGH: <ExclamationTriangleIcon className=\"h-6 w-6\" />,\r\n    MEDIUM: <ShieldCheckIcon className=\"h-6 w-6\" />,\r\n    LOW: <CheckCircleIcon className=\"h-6 w-6\" />,\r\n  };\r\n\r\n  return (\r\n    <div className={`p-5 rounded-2xl ${styles[level]} transition-all duration-300 hover:scale-[1.02] hover:shadow-md`}>\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <div className=\"text-3xl font-bold\">{count}</div>\r\n          <div className=\"text-sm font-semibold mt-1 uppercase tracking-wide\">{level} RISK</div>\r\n        </div>\r\n        <div className=\"opacity-70\">\r\n          {icons[level]}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ================= DRAGGABLE WIDGET COMPONENT ================= */\r\n\r\nfunction DraggableWidgetComponent({ \r\n  widget, \r\n  onMouseDown,\r\n  onResize,\r\n  onToggleCollapse,\r\n  onRemove,\r\n  bringToFront\r\n}: { \r\n  widget: DraggableWidget;\r\n  onMouseDown: (e: React.MouseEvent, id: string) => void;\r\n  onResize: (e: React.MouseEvent, id: string, direction: string) => void;\r\n  onToggleCollapse: (id: string) => void;\r\n  onRemove: (id: string) => void;\r\n  bringToFront: (id: string) => void;\r\n}) {\r\n  return (\r\n    <div\r\n      className={`absolute rounded-xl border shadow-lg overflow-hidden transition-all duration-200 cursor-move hover:shadow-xl ${\r\n        widget.isDragging ? 'z-50 opacity-90 scale-[1.02] border-blue-400' : 'z-40 border-gray-200'\r\n      }`}\r\n      style={{\r\n        left: `${widget.x}px`,\r\n        top: `${widget.y}px`,\r\n        width: `${widget.width}px`,\r\n        height: widget.isCollapsed ? '50px' : `${widget.height}px`,\r\n        zIndex: widget.zIndex,\r\n      }}\r\n      onMouseDown={(e) => {\r\n        bringToFront(widget.id);\r\n        onMouseDown(e, widget.id);\r\n      }}\r\n    >\r\n      {/* Widget Header */}\r\n      <div \r\n        className={`p-3 flex items-center justify-between cursor-move ${\r\n          widget.id.includes('about') ? 'bg-blue-50' :\r\n          widget.id.includes('features') ? 'bg-emerald-50' :\r\n          'bg-purple-50'\r\n        }`}\r\n        onMouseDown={(e) => {\r\n          e.stopPropagation();\r\n          bringToFront(widget.id);\r\n          onMouseDown(e, widget.id);\r\n        }}\r\n      >\r\n        <div className=\"flex items-center gap-2\">\r\n          {widget.id.includes('about') && <InformationCircleIcon className=\"h-4 w-4 text-blue-600\" />}\r\n          {widget.id.includes('features') && <LightBulbIcon className=\"h-4 w-4 text-emerald-600\" />}\r\n          {widget.id.includes('actions') && <BoltIcon className=\"h-4 w-4 text-purple-600\" />}\r\n          <h3 className=\"font-semibold text-gray-900 text-sm\">{widget.title}</h3>\r\n        </div>\r\n        <div className=\"flex items-center gap-1\">\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onToggleCollapse(widget.id);\r\n            }}\r\n            className=\"p-1 hover:bg-white/50 rounded transition-all duration-200 hover:scale-110\"\r\n            title={widget.isCollapsed ? \"‡∏Ç‡∏¢‡∏≤‡∏¢\" : \"‡∏û‡∏±‡∏ö\"}\r\n          >\r\n            {widget.isCollapsed ? (\r\n              <ArrowRightIcon className=\"h-3 w-3 text-gray-600\" />\r\n            ) : (\r\n              <ArrowLeftIcon className=\"h-3 w-3 text-gray-600\" />\r\n            )}\r\n          </button>\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onRemove(widget.id);\r\n            }}\r\n            className=\"p-1 hover:bg-red-50 rounded transition-all duration-200 hover:scale-110 text-gray-500 hover:text-red-600\"\r\n            title=\"‡∏•‡∏ö‡∏ß‡∏¥‡∏î‡πÄ‡∏à‡πá‡∏ï\"\r\n          >\r\n            <XMarkIcon className=\"h-3 w-3\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Widget Content */}\r\n      {!widget.isCollapsed && (\r\n        <>\r\n          <div \r\n            className=\"overflow-auto bg-white\"\r\n            style={{ height: `calc(${widget.height}px - 50px)` }}\r\n          >\r\n            <div className=\"p-3\">\r\n              {widget.content}\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Resize Handles */}\r\n          <>\r\n            <div \r\n              className=\"absolute top-0 left-0 w-3 h-3 cursor-nw-resize bg-blue-500/20 hover:bg-blue-500/40 rounded-tl-lg transition-colors\"\r\n              onMouseDown={(e) => {\r\n                e.stopPropagation();\r\n                bringToFront(widget.id);\r\n                onResize(e, widget.id, 'nw');\r\n              }}\r\n            />\r\n            <div \r\n              className=\"absolute top-0 right-0 w-3 h-3 cursor-ne-resize bg-blue-500/20 hover:bg-blue-500/40 rounded-tr-lg transition-colors\"\r\n              onMouseDown={(e) => {\r\n                e.stopPropagation();\r\n                bringToFront(widget.id);\r\n                onResize(e, widget.id, 'ne');\r\n              }}\r\n            />\r\n            <div \r\n              className=\"absolute bottom-0 right-0 w-3 h-3 cursor-se-resize bg-blue-500/20 hover:bg-blue-500/40 rounded-br-lg transition-colors\"\r\n              onMouseDown={(e) => {\r\n                e.stopPropagation();\r\n                bringToFront(widget.id);\r\n                onResize(e, widget.id, 'se');\r\n              }}\r\n            />\r\n            <div \r\n              className=\"absolute bottom-0 left-0 w-3 h-3 cursor-sw-resize bg-blue-500/20 hover:bg-blue-500/40 rounded-bl-lg transition-colors\"\r\n              onMouseDown={(e) => {\r\n                e.stopPropagation();\r\n                bringToFront(widget.id);\r\n                onResize(e, widget.id, 'sw');\r\n              }}\r\n            />\r\n          </>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ================= REPORT GENERATOR ================= */\r\n\r\nexport default function ReportsPage() {\r\n  const searchParams = useSearchParams();\r\n  const router = useRouter();\r\n  const comparisonId = searchParams.get(\"comparisonId\");\r\n  \r\n  const reportRef = useRef<HTMLDivElement>(null);\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [format, setFormat] = useState<\"PDF\" | \"WORD\">(\"PDF\");\r\n  const [showPreview, setShowPreview] = useState(true);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [reportData, setReportData] = useState<ReportData | null>(null);\r\n  const [comparisonData, setComparisonData] = useState<ComparisonDetail | null>(null);\r\n  \r\n  // Draggable widgets state\r\n  const [widgets, setWidgets] = useState<DraggableWidget[]>([\r\n    {\r\n      id: 'about-report',\r\n      title: '‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ',\r\n      content: null,\r\n      x: 40,\r\n      y: 200,\r\n      width: 300,\r\n      height: 220,\r\n      isCollapsed: false,\r\n      isDragging: false,\r\n      zIndex: 10,\r\n    },\r\n    {\r\n      id: 'special-features',\r\n      title: '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏û‡∏¥‡πÄ‡∏®‡∏©',\r\n      content: null,\r\n      x: 40,\r\n      y: 440,\r\n      width: 300,\r\n      height: 260,\r\n      isCollapsed: false,\r\n      isDragging: false,\r\n      zIndex: 20,\r\n    },\r\n    {\r\n      id: 'quick-actions',\r\n      title: '‚ö° ‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡πà‡∏ß‡∏ô',\r\n      content: null,\r\n      x: 40,\r\n      y: 720,\r\n      width: 300,\r\n      height: 200,\r\n      isCollapsed: false,\r\n      isDragging: false,\r\n      zIndex: 30,\r\n    },\r\n  ]);\r\n  \r\n  const [nextZIndex, setNextZIndex] = useState(100);\r\n\r\n  useEffect(() => {\r\n    if (comparisonId) {\r\n      fetchComparisonData();\r\n    } else {\r\n      setLoading(false);\r\n    }\r\n  }, [comparisonId]);\r\n\r\n  // Initialize widget content when reportData is available\r\n  useEffect(() => {\r\n    if (reportData && comparisonId) {\r\n      setWidgets(prev => prev.map(widget => {\r\n        let content = null;\r\n        \r\n        switch(widget.id) {\r\n          case 'about-report':\r\n            content = (\r\n              <div className=\"space-y-3\">\r\n                <div className=\"p-2.5 bg-blue-50/50 rounded-lg\">\r\n                  <div className=\"text-xs text-gray-600 mb-1\">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</div>\r\n                  <div className=\"font-medium text-gray-900 text-sm\">{reportData.id}</div>\r\n                </div>\r\n                <div className=\"p-2.5 bg-blue-50/50 rounded-lg\">\r\n                  <div className=\"text-xs text-gray-600 mb-1\">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div className=\"h-2 w-2 bg-green-500 rounded-full animate-pulse\"></div>\r\n                    <span className=\"font-medium text-green-700 text-sm\">‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"p-2.5 bg-blue-50/50 rounded-lg\">\r\n                  <div className=\"text-xs text-gray-600 mb-1\">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</div>\r\n                  <div className=\"font-medium text-gray-900 text-sm\">{formatDateShort(new Date().toISOString())}</div>\r\n                </div>\r\n                <div className=\"p-2.5 bg-blue-50/50 rounded-lg\">\r\n                  <div className=\"text-xs text-gray-600 mb-1\">‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥</div>\r\n                  <div className=\"font-medium text-gray-900 text-sm\">{reportData.createdBy}</div>\r\n                </div>\r\n              </div>\r\n            );\r\n            break;\r\n            \r\n          case 'special-features':\r\n            content = (\r\n              <div className=\"space-y-2.5\">\r\n                <div className=\"flex items-start gap-2 p-2 bg-emerald-50/50 rounded-lg\">\r\n                  <CheckCircleIcon className=\"h-4 w-4 text-emerald-600 mt-0.5\" />\r\n                  <div>\r\n                    <div className=\"font-medium text-gray-900 text-sm\">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏î‡πâ‡∏ß‡∏¢ AI</div>\r\n                    <div className=\"text-xs text-gray-600 mt-0.5\">‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-start gap-2 p-2 bg-emerald-50/50 rounded-lg\">\r\n                  <ChartBarIcon className=\"h-4 w-4 text-emerald-600 mt-0.5\" />\r\n                  <div>\r\n                    <div className=\"font-medium text-gray-900 text-sm\">‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á</div>\r\n                    <div className=\"text-xs text-gray-600 mt-0.5\">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå 3 ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á</div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-start gap-2 p-2 bg-emerald-50/50 rounded-lg\">\r\n                  <ShieldCheckIcon className=\"h-4 w-4 text-emerald-600 mt-0.5\" />\r\n                  <div>\r\n                    <div className=\"font-medium text-gray-900 text-sm\">‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</div>\r\n                    <div className=\"text-xs text-gray-600 mt-0.5\">‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏à‡∏≤‡∏Å AI</div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-start gap-2 p-2 bg-emerald-50/50 rounded-lg\">\r\n                  <DocumentCheckIcon className=\"h-4 w-4 text-emerald-600 mt-0.5\" />\r\n                  <div>\r\n                    <div className=\"font-medium text-gray-900 text-sm\">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô</div>\r\n                    <div className=\"text-xs text-gray-600 mt-0.5\">PDF ‡πÅ‡∏•‡∏∞ Word</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n            break;\r\n            \r\n          case 'quick-actions':\r\n            content = (\r\n              <div className=\"space-y-2.5\">\r\n                <button\r\n                  onClick={() => window.print()}\r\n                  className=\"w-full px-3 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all duration-200 flex items-center justify-center gap-2 text-sm\"\r\n                >\r\n                  <PrinterIcon className=\"h-3.5 w-3.5\" />\r\n                  ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô\r\n                </button>\r\n                <button \r\n                  onClick={() => alert('‡∏™‡πà‡∏á‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ä‡∏£‡πå‡∏•‡∏¥‡∏á‡∏Å‡πå')}\r\n                  className=\"w-full px-3 py-2.5 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-all duration-200 flex items-center justify-center gap-2 text-sm\"\r\n                >\r\n                  <ShareIcon className=\"h-3.5 w-3.5\" />\r\n                  ‡πÅ‡∏ä‡∏£‡πå‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô\r\n                </button>\r\n                <button\r\n                  onClick={fetchComparisonData}\r\n                  className=\"w-full px-3 py-2.5 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-all duration-200 flex items-center justify-center gap-2 text-sm\"\r\n                >\r\n                  <ArrowPathIcon className=\"h-3.5 w-3.5\" />\r\n                  ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•\r\n                </button>\r\n              </div>\r\n            );\r\n            break;\r\n        }\r\n        \r\n        return { ...widget, content };\r\n      }));\r\n    }\r\n  }, [reportData, comparisonId]);\r\n\r\n  const fetchComparisonData = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      const res = await fetch(`${API_BASE}/comparisons/${comparisonId}`, { \r\n        cache: \"no-store\" \r\n      });\r\n      \r\n      if (!res.ok) throw new Error(`Failed to load comparison (${res.status})`);\r\n      \r\n      const data: ComparisonDetail = await res.json();\r\n      setComparisonData(data);\r\n      \r\n      const changes = data.changes || [];\r\n      const highRiskCount = changes.filter(c => c.risk_level === \"HIGH\").length;\r\n      const mediumRiskCount = changes.filter(c => c.risk_level === \"MEDIUM\").length;\r\n      const lowRiskCount = changes.filter(c => c.risk_level === \"LOW\").length;\r\n      \r\n      let overallRisk: \"LOW\" | \"MEDIUM\" | \"HIGH\" = \"LOW\";\r\n      if (highRiskCount > 3) overallRisk = \"HIGH\";\r\n      else if (highRiskCount > 0 || mediumRiskCount > 5) overallRisk = \"MEDIUM\";\r\n      \r\n      const report: ReportData = {\r\n        id: `REP-${data.id}`,\r\n        title: `‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ ${data.document_name}`,\r\n        documentName: data.document_name,\r\n        versionFrom: data.version_old_label,\r\n        versionTo: data.version_new_label,\r\n        createdDate: data.created_at,\r\n        createdBy: \"‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞\",\r\n        totalChanges: changes.length,\r\n        highRisk: highRiskCount,\r\n        mediumRisk: mediumRiskCount,\r\n        lowRisk: lowRiskCount,\r\n        overallRisk,\r\n        executiveSummary: data.summary_text || \"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå\",\r\n        keyFindings: changes\r\n          .filter(c => c.risk_level === \"HIGH\")\r\n          .slice(0, 3)\r\n          .map((c, i) => ({\r\n            id: i + 1,\r\n            description: c.section_label || \"‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á\",\r\n            riskLevel: c.risk_level || \"HIGH\",\r\n            recommendation: c.ai_suggestion || \"‡∏Ñ‡∏ß‡∏£‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á\"\r\n          })),\r\n        topRisks: changes\r\n          .filter(c => c.risk_level === \"HIGH\")\r\n          .slice(0, 5)\r\n          .map(c => c.section_label || \"‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á\") || [],\r\n        aiRecommendations: changes\r\n          .filter(c => c.ai_suggestion)\r\n          .slice(0, 5)\r\n          .map(c => c.ai_suggestion as string) || [\r\n            \"‡∏Ñ‡∏ß‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\",\r\n            \"‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡πà‡∏≠‡∏ô‡∏•‡∏á‡∏ô‡∏≤‡∏°\",\r\n            \"‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏≤‡∏¢‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå‡∏≠‡∏±‡∏Å‡∏©‡∏£\",\r\n            \"‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°\",\r\n            \"‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Å‡∏•‡πÑ‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô\"\r\n          ],\r\n        preparedBy: \"‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞\",\r\n        preparedDate: formatDate(new Date().toISOString()),\r\n        approvalBy: undefined,\r\n        approvalDate: undefined\r\n      };\r\n      \r\n      setReportData(report);\r\n    } catch (err: any) {\r\n      setError(err?.message || \"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•\");\r\n      console.error(\"Error fetching comparison:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleGeneratePDF = async () => {\r\n    if (!reportRef.current || !reportData) return;\r\n    \r\n    setIsGenerating(true);\r\n    try {\r\n      const canvas = await html2canvas(reportRef.current, {\r\n        scale: 2,\r\n        useCORS: true,\r\n        logging: false,\r\n        backgroundColor: '#ffffff',\r\n      });\r\n\r\n      const imgData = canvas.toDataURL('image/png');\r\n      const pdf = new jsPDF({\r\n        orientation: 'portrait',\r\n        unit: 'mm',\r\n        format: 'a4',\r\n      });\r\n\r\n      const imgWidth = 190;\r\n      const pageHeight = 280;\r\n      const imgHeight = (canvas.height * imgWidth) / canvas.width;\r\n      let heightLeft = imgHeight;\r\n      let position = 10;\r\n\r\n      pdf.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);\r\n      heightLeft -= pageHeight;\r\n\r\n      while (heightLeft >= 0) {\r\n        position = heightLeft - imgHeight;\r\n        pdf.addPage();\r\n        pdf.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);\r\n        heightLeft -= pageHeight;\r\n      }\r\n\r\n      pdf.save(`‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•_${reportData.documentName}_${new Date().toISOString().split('T')[0]}.pdf`);\r\n    } catch (error) {\r\n      console.error(\"Error generating PDF:\", error);\r\n    } finally {\r\n      setIsGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleGenerateWord = () => {\r\n    if (!reportData) return;\r\n    \r\n    const content = `\r\n      ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô: ${reportData.title}\r\n      ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£: ${reportData.documentName}\r\n      ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô: ${reportData.versionFrom} ‚Üí ${reportData.versionTo}\r\n      ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡∏ó‡∏≥: ${formatDate(reportData.createdDate)}\r\n      ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥: ${reportData.createdBy}\r\n      \r\n      ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå:\r\n      ${reportData.executiveSummary}\r\n      \r\n      ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á:\r\n      - ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á: ${reportData.highRisk} ‡∏à‡∏∏‡∏î\r\n      - ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á: ${reportData.mediumRisk} ‡∏à‡∏∏‡∏î\r\n      - ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≥: ${reportData.lowRisk} ‡∏à‡∏∏‡∏î\r\n      - ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${reportData.totalChanges} ‡∏à‡∏∏‡∏î\r\n      \r\n      ‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤:\r\n      ${reportData.keyFindings.map(f => `  ${f.id}. ${f.description} (‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á: ${f.riskLevel})`).join('\\n')}\r\n      \r\n      ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö AI:\r\n      ${reportData.aiRecommendations.map((r, i) => `  ${i + 1}. ${r}`).join('\\n')}\r\n      \r\n      ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÇ‡∏î‡∏¢: ${reportData.preparedBy}\r\n      ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${reportData.preparedDate}\r\n      ${reportData.approvalBy ? `‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÇ‡∏î‡∏¢: ${reportData.approvalBy}\\n‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥: ${reportData.approvalDate}` : ''}\r\n    `;\r\n\r\n    const blob = new Blob([content], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•_${reportData.documentName}_${new Date().toISOString().split('T')[0]}.doc`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const handleGenerateReport = () => {\r\n    if (format === \"PDF\") {\r\n      handleGeneratePDF();\r\n    } else {\r\n      handleGenerateWord();\r\n    }\r\n  };\r\n\r\n  const handleBackToComparison = () => {\r\n    if (comparisonId) {\r\n      router.push(`/compare/${comparisonId}`);\r\n    } else {\r\n      router.push('/history');\r\n    }\r\n  };\r\n\r\n  // Drag and drop handlers\r\n  const handleMouseDown = (e: React.MouseEvent, widgetId: string) => {\r\n    e.preventDefault();\r\n    const startX = e.clientX;\r\n    const startY = e.clientY;\r\n    const widget = widgets.find(w => w.id === widgetId);\r\n    if (!widget) return;\r\n\r\n    const startWidgetX = widget.x;\r\n    const startWidgetY = widget.y;\r\n\r\n    const handleMouseMove = (moveEvent: MouseEvent) => {\r\n      const deltaX = moveEvent.clientX - startX;\r\n      const deltaY = moveEvent.clientY - startY;\r\n      \r\n      setWidgets(prev => prev.map(w => \r\n        w.id === widgetId \r\n          ? { \r\n              ...w, \r\n              x: Math.max(0, startWidgetX + deltaX), \r\n              y: Math.max(0, startWidgetY + deltaY), \r\n              isDragging: true \r\n            }\r\n          : w\r\n      ));\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n      document.removeEventListener('mousemove', handleMouseMove);\r\n      document.removeEventListener('mouseup', handleMouseUp);\r\n      \r\n      setWidgets(prev => prev.map(w => \r\n        w.id === widgetId \r\n          ? { ...w, isDragging: false }\r\n          : w\r\n      ));\r\n    };\r\n\r\n    document.addEventListener('mousemove', handleMouseMove);\r\n    document.addEventListener('mouseup', handleMouseUp);\r\n  };\r\n\r\n  const handleResize = (e: React.MouseEvent, widgetId: string, direction: string) => {\r\n    e.stopPropagation();\r\n    const startX = e.clientX;\r\n    const startY = e.clientY;\r\n    const widget = widgets.find(w => w.id === widgetId);\r\n    if (!widget) return;\r\n\r\n    const startWidth = widget.width;\r\n    const startHeight = widget.height;\r\n    const startXPos = widget.x;\r\n    const startYPos = widget.y;\r\n\r\n    const handleMouseMove = (moveEvent: MouseEvent) => {\r\n      const deltaX = moveEvent.clientX - startX;\r\n      const deltaY = moveEvent.clientY - startY;\r\n\r\n      setWidgets(prev => prev.map(w => {\r\n        if (w.id !== widgetId) return w;\r\n\r\n        let newWidth = startWidth;\r\n        let newHeight = startHeight;\r\n        let newX = startXPos;\r\n        let newY = startYPos;\r\n\r\n        // Handle resizing in different directions\r\n        if (direction.includes('e')) newWidth = Math.max(200, startWidth + deltaX);\r\n        if (direction.includes('w')) {\r\n          newWidth = Math.max(200, startWidth - deltaX);\r\n          newX = startXPos + deltaX;\r\n        }\r\n        if (direction.includes('s')) newHeight = Math.max(120, startHeight + deltaY);\r\n        if (direction.includes('n')) {\r\n          newHeight = Math.max(120, startHeight - deltaY);\r\n          newY = startYPos + deltaY;\r\n        }\r\n\r\n        return {\r\n          ...w,\r\n          width: newWidth,\r\n          height: newHeight,\r\n          x: newX,\r\n          y: newY,\r\n          isDragging: true\r\n        };\r\n      }));\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n      document.removeEventListener('mousemove', handleMouseMove);\r\n      document.removeEventListener('mouseup', handleMouseUp);\r\n      \r\n      setWidgets(prev => prev.map(w => \r\n        w.id === widgetId \r\n          ? { ...w, isDragging: false }\r\n          : w\r\n      ));\r\n    };\r\n\r\n    document.addEventListener('mousemove', handleMouseMove);\r\n    document.addEventListener('mouseup', handleMouseUp);\r\n  };\r\n\r\n  const toggleWidgetCollapse = (widgetId: string) => {\r\n    setWidgets(prev => prev.map(widget => \r\n      widget.id === widgetId \r\n        ? { ...widget, isCollapsed: !widget.isCollapsed }\r\n        : widget\r\n    ));\r\n  };\r\n\r\n  const removeWidget = (widgetId: string) => {\r\n    setWidgets(prev => prev.filter(w => w.id !== widgetId));\r\n  };\r\n\r\n  const bringToFront = (widgetId: string) => {\r\n    setNextZIndex(prev => prev + 1);\r\n    setWidgets(prev => prev.map(w => \r\n      w.id === widgetId \r\n        ? { ...w, zIndex: nextZIndex + 1 }\r\n        : w\r\n    ));\r\n  };\r\n\r\n  const addNewWidget = (type: 'about' | 'features' | 'actions') => {\r\n    const titles = {\r\n      about: '‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ',\r\n      features: '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏û‡∏¥‡πÄ‡∏®‡∏©',\r\n      actions: '‚ö° ‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡πà‡∏ß‡∏ô'\r\n    };\r\n\r\n    const contents = {\r\n      about: (\r\n        <div className=\"space-y-3\">\r\n          <div className=\"p-2.5 bg-blue-50/50 rounded-lg\">\r\n            <div className=\"text-xs text-gray-600 mb-1\">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏Å</div>\r\n            <div className=\"font-medium text-gray-900 text-sm\">‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö #{comparisonId}</div>\r\n          </div>\r\n          <div className=\"p-2.5 bg-blue-50/50 rounded-lg\">\r\n            <div className=\"text-xs text-gray-600 mb-1\">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"h-2 w-2 bg-green-500 rounded-full\"></div>\r\n              <span className=\"font-medium text-green-700 text-sm\">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ),\r\n      features: (\r\n        <div className=\"space-y-2.5\">\r\n          <div className=\"flex items-start gap-2 p-2 bg-emerald-50/50 rounded-lg\">\r\n            <DocumentCheckIcon className=\"h-4 w-4 text-emerald-600 mt-0.5\" />\r\n            <div>\r\n              <div className=\"font-medium text-gray-900 text-sm\">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û</div>\r\n              <div className=\"text-xs text-gray-600 mt-0.5\">‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-start gap-2 p-2 bg-emerald-50/50 rounded-lg\">\r\n            <SparklesIcon className=\"h-4 w-4 text-emerald-600 mt-0.5\" />\r\n            <div>\r\n              <div className=\"font-medium text-gray-900 text-sm\">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞</div>\r\n              <div className=\"text-xs text-gray-600 mt-0.5\">‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ AI</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ),\r\n      actions: (\r\n        <div className=\"space-y-2.5\">\r\n          <button className=\"w-full px-3 py-2.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all duration-200 text-sm\">\r\n            ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î PDF\r\n          </button>\r\n          <button className=\"w-full px-3 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 text-sm\">\r\n            ‡πÅ‡∏ä‡∏£‡πå‡πÉ‡∏´‡πâ‡∏ó‡∏µ‡∏°\r\n          </button>\r\n        </div>\r\n      )\r\n    };\r\n\r\n    const dimensions = {\r\n      about: { width: 300, height: 200 },\r\n      features: { width: 300, height: 180 },\r\n      actions: { width: 300, height: 140 }\r\n    };\r\n\r\n    const newWidget: DraggableWidget = {\r\n      id: `${type}-${Date.now()}`,\r\n      title: titles[type],\r\n      content: contents[type],\r\n      x: Math.random() * 600 + 100,\r\n      y: Math.random() * 400 + 100,\r\n      width: dimensions[type].width,\r\n      height: dimensions[type].height,\r\n      isCollapsed: false,\r\n      isDragging: false,\r\n      zIndex: nextZIndex + 1,\r\n    };\r\n    \r\n    setNextZIndex(prev => prev + 2);\r\n    setWidgets([...widgets, newWidget]);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-emerald-50 flex items-center justify-center p-6\">\r\n        <div className=\"text-center max-w-md\">\r\n          <div className=\"relative mx-auto w-24 h-24\">\r\n            <div className=\"absolute inset-0 bg-gradient-to-r from-blue-500 to-emerald-500 rounded-full blur-xl opacity-30\"></div>\r\n            <ArrowPathIcon className=\"h-24 w-24 animate-spin text-blue-600 mx-auto relative\" />\r\n          </div>\r\n          <h3 className=\"mt-6 text-xl font-bold text-gray-800\">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô...</h3>\r\n          <p className=\"mt-2 text-gray-600\">‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 flex items-center justify-center p-6\">\r\n        <div className=\"bg-white rounded-2xl border border-gray-200 shadow-xl p-8 max-w-md w-full\">\r\n          <div className=\"relative\">\r\n            <ExclamationCircleIcon className=\"h-16 w-16 text-red-500 mx-auto\" />\r\n          </div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900 mt-6 text-center\">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î</h2>\r\n          <p className=\"text-gray-600 mt-3 text-center\">{error}</p>\r\n          <div className=\"mt-8 flex gap-3\">\r\n            <button\r\n              onClick={handleBackToComparison}\r\n              className=\"flex-1 px-5 py-3 bg-gray-600 text-white rounded-xl hover:bg-gray-700 font-medium transition-all duration-300\"\r\n            >\r\n              ‡∏Å‡∏•‡∏±‡∏ö\r\n            </button>\r\n            <button\r\n              onClick={fetchComparisonData}\r\n              className=\"flex-1 px-5 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 font-medium transition-all duration-300\"\r\n            >\r\n              ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!comparisonId || !reportData) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-emerald-50 p-4 md:p-8\">\r\n        <div className=\"max-w-6xl mx-auto\">\r\n          <div className=\"text-center mb-12 pt-8\">\r\n            <div className=\"inline-flex items-center justify-center p-3 bg-gradient-to-r from-blue-100 to-emerald-100 rounded-2xl mb-6\">\r\n              <DocumentCheckIcon className=\"h-10 w-10 text-blue-600\" />\r\n            </div>\r\n            <h1 className=\"text-4xl md:text-5xl font-bold text-gray-900 mb-4\">\r\n              ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå\r\n            </h1>\r\n            <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\r\n              ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û‡∏à‡∏≤‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12\">\r\n            <div className=\"bg-white rounded-2xl border border-gray-200 shadow-lg p-8\">\r\n              <div className=\"flex items-start gap-4 mb-6\">\r\n                <div className=\"p-3 bg-blue-100 rounded-xl\">\r\n                  <BuildingOfficeIcon className=\"h-8 w-8 text-blue-600\" />\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</h2>\r\n                  <p className=\"text-gray-600\">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={() => router.push('/history')}\r\n                className=\"w-full mt-4 px-6 py-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 font-medium flex items-center justify-center gap-3\"\r\n              >\r\n                <ArrowRightIcon className=\"h-5 w-5\" />\r\n                ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"bg-white rounded-2xl border border-gray-200 shadow-lg p-8\">\r\n              <div className=\"flex items-start gap-4 mb-6\">\r\n                <div className=\"p-3 bg-emerald-100 rounded-xl\">\r\n                  <DocumentTextIcon className=\"h-8 w-8 text-emerald-600\" />\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÉ‡∏´‡∏°‡πà</h2>\r\n                  <p className=\"text-gray-600\">‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={() => router.push('/compare')}\r\n                className=\"w-full mt-4 px-6 py-4 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 font-medium flex items-center justify-center gap-3\"\r\n              >\r\n                <ArrowRightIcon className=\"h-5 w-5\" />\r\n                ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-emerald-50 p-4 md:p-8 relative overflow-hidden\">\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"bg-white rounded-2xl border border-gray-200 shadow-lg p-6\">\r\n            <div className=\"flex flex-col lg:flex-row lg:items-start justify-between gap-6\">\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex items-center gap-3 mb-4\">\r\n                  <button\r\n                    onClick={handleBackToComparison}\r\n                    className=\"p-2 hover:bg-gray-100 rounded-lg\"\r\n                  >\r\n                    <ArrowLeftIcon className=\"h-5 w-5 text-gray-600\" />\r\n                  </button>\r\n                  <div>\r\n                    <h1 className=\"text-2xl md:text-3xl font-bold text-gray-900 mb-2\">\r\n                      üìä ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•\r\n                    </h1>\r\n                    <p className=\"text-gray-600\">\r\n                      ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö: <span className=\"font-semibold\">{reportData.documentName}</span>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-3 mt-6\">\r\n                  <div className=\"p-3 bg-blue-50 rounded-lg border border-blue-100\">\r\n                    <div className=\"text-sm text-gray-600 mb-1\">‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô</div>\r\n                    <div className=\"font-bold text-gray-900\">{reportData.versionFrom}</div>\r\n                  </div>\r\n                  <div className=\"p-3 bg-emerald-50 rounded-lg border border-emerald-100\">\r\n                    <div className=\"text-sm text-gray-600 mb-1\">‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô</div>\r\n                    <div className=\"font-bold text-gray-900\">{reportData.versionTo}</div>\r\n                  </div>\r\n                  <div className=\"p-3 bg-amber-50 rounded-lg border border-amber-100\">\r\n                    <div className=\"text-sm text-gray-600 mb-1\">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö</div>\r\n                    <div className=\"font-bold text-gray-900\">{formatDateShort(reportData.createdDate)}</div>\r\n                  </div>\r\n                  <div className=\"p-3 bg-purple-50 rounded-lg border border-purple-100\">\r\n                    <div className=\"text-sm text-gray-600 mb-1\">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</div>\r\n                    <div className=\"font-bold text-gray-900\">‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex flex-col space-y-3 min-w-[280px]\">\r\n                <div className=\"bg-white p-3 rounded-lg border border-gray-200\">\r\n                  <div className=\"text-sm font-semibold text-gray-700 mb-2\">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö</div>\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      onClick={() => setFormat(\"PDF\")}\r\n                      className={`flex-1 px-3 py-2 rounded-lg font-medium transition-all duration-300 ${\r\n                        format === \"PDF\" \r\n                          ? \"bg-blue-600 text-white\" \r\n                          : \"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50\"\r\n                      }`}\r\n                    >\r\n                      PDF\r\n                    </button>\r\n                    <button\r\n                      onClick={() => setFormat(\"WORD\")}\r\n                      className={`flex-1 px-3 py-2 rounded-lg font-medium transition-all duration-300 ${\r\n                        format === \"WORD\" \r\n                          ? \"bg-blue-600 text-white\" \r\n                          : \"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50\"\r\n                      }`}\r\n                    >\r\n                      Word\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                \r\n                <button\r\n                  onClick={handleGenerateReport}\r\n                  disabled={isGenerating}\r\n                  className=\"px-4 py-3 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 disabled:opacity-50 transition-all duration-300 flex items-center justify-center gap-2\"\r\n                >\r\n                  {isGenerating ? (\r\n                    <>\r\n                      <ArrowPathIcon className=\"h-4 w-4 animate-spin\" />\r\n                      ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <DocumentArrowDownIcon className=\"h-4 w-4\" />\r\n                      ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î {format}\r\n                    </>\r\n                  )}\r\n                </button>\r\n                \r\n                <button\r\n                  onClick={() => setShowPreview(!showPreview)}\r\n                  className=\"px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-all duration-300 flex items-center justify-center gap-2 text-sm\"\r\n                >\r\n                  {showPreview ? \"‡∏ã‡πà‡∏≠‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á\" : \"‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á\"}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Main Content Area */}\r\n        <div className=\"relative\">\r\n          {/* Report Preview */}\r\n          {showPreview && reportData && (\r\n            <div className=\"mb-8\">\r\n              <div className=\"bg-white rounded-2xl border border-gray-200 shadow-lg p-6\">\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                  <div>\r\n                    <h2 className=\"text-xl font-bold text-gray-900 flex items-center gap-2\">\r\n                      <DocumentTextIcon className=\"h-5 w-5 text-blue-600\" />\r\n                      ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô\r\n                    </h2>\r\n                    <p className=\"text-gray-600 text-sm mt-1\">‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î</p>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div \r\n                  ref={reportRef}\r\n                  className=\"bg-white p-8 border border-gray-200 rounded-xl\"\r\n                  style={{ \r\n                    minWidth: '210mm', \r\n                    minHeight: '297mm',\r\n                    fontFamily: \"'Sarabun', 'TH Sarabun New', 'Noto Sans Thai', sans-serif\"\r\n                  }}\r\n                >\r\n                  <div className=\"text-center mb-8 pb-6 border-b border-gray-200\">\r\n                    <div className=\"inline-flex items-center justify-center p-3 bg-blue-50 rounded-xl mb-3\">\r\n                      <DocumentCheckIcon className=\"h-10 w-10 text-blue-600\" />\r\n                    </div>\r\n                    <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">\r\n                      ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£\r\n                    </h1>\r\n                    <div className=\"text-sm text-gray-500\">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô: {reportData.id}</div>\r\n                  </div>\r\n\r\n                  <div className=\"mb-6 p-4 bg-gray-50 rounded-xl border border-gray-200\">\r\n                    <h2 className=\"text-lg font-bold text-gray-900 mb-3\">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</h2>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <div className=\"text-sm text-gray-600\">‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</div>\r\n                        <div className=\"font-medium\">{reportData.documentName}</div>\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"text-sm text-gray-600\">‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö</div>\r\n                        <div className=\"font-medium\">{reportData.versionFrom} ‚Üí {reportData.versionTo}</div>\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"text-sm text-gray-600\">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡∏ó‡∏≥</div>\r\n                        <div className=\"font-medium\">{formatDate(reportData.createdDate)}</div>\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"text-sm text-gray-600\">‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥</div>\r\n                        <div className=\"font-medium\">{reportData.createdBy}</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"mb-6\">\r\n                    <h2 className=\"text-lg font-bold text-gray-900 mb-3\">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</h2>\r\n                    <div className=\"bg-blue-50 border border-blue-100 rounded-lg p-4\">\r\n                      <p className=\"text-gray-700 leading-relaxed\">{reportData.executiveSummary}</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"mb-6\">\r\n                    <h2 className=\"text-lg font-bold text-gray-900 mb-3\">‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á</h2>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-4 gap-3 mb-4\">\r\n                      <RiskItem level=\"HIGH\" count={reportData.highRisk} />\r\n                      <RiskItem level=\"MEDIUM\" count={reportData.mediumRisk} />\r\n                      <RiskItem level=\"LOW\" count={reportData.lowRisk} />\r\n                      <div className=\"p-4 bg-gray-50 border border-gray-200 rounded-xl\">\r\n                        <div className=\"text-2xl font-bold\">{reportData.totalChanges}</div>\r\n                        <div className=\"text-sm font-semibold mt-1\">TOTAL CHANGES</div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span className=\"text-gray-700 font-medium\">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏£‡∏ß‡∏°:</span>\r\n                      <RiskBadge level={reportData.overallRisk} />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"mb-6\">\r\n                    <h2 className=\"text-lg font-bold text-gray-900 mb-3\">‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤</h2>\r\n                    <div className=\"space-y-3\">\r\n                      {reportData.keyFindings.map((finding) => (\r\n                        <div key={finding.id} className=\"border border-gray-200 rounded-lg p-4\">\r\n                          <div className=\"flex items-start justify-between mb-2\">\r\n                            <div className=\"font-medium text-gray-900\">{finding.description}</div>\r\n                            <RiskBadge level={finding.riskLevel} />\r\n                          </div>\r\n                          <div className=\"text-sm text-gray-600\">\r\n                            <span className=\"font-medium\">‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:</span> {finding.recommendation}\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"mb-6\">\r\n                    <div className=\"flex items-center gap-2 mb-3\">\r\n                      <SparklesIcon className=\"h-5 w-5 text-purple-600\" />\r\n                      <h2 className=\"text-lg font-bold text-gray-900\">‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö AI</h2>\r\n                    </div>\r\n                    <div className=\"bg-purple-50 border border-purple-100 rounded-lg p-4\">\r\n                      <ul className=\"space-y-2\">\r\n                        {reportData.aiRecommendations.map((rec, index) => (\r\n                          <li key={index} className=\"flex items-start gap-2\">\r\n                            <CheckCircleIcon className=\"h-5 w-5 text-purple-600 mt-0.5\" />\r\n                            <span className=\"text-gray-700\">{rec}</span>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"mt-8 pt-6 border-t border-gray-200\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                      <div>\r\n                        <div className=\"flex items-center gap-2 mb-2\">\r\n                          <UserIcon className=\"h-5 w-5 text-gray-600\" />\r\n                          <span className=\"font-medium text-gray-900\">‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÇ‡∏î‡∏¢</span>\r\n                        </div>\r\n                        <div className=\"text-gray-700\">{reportData.preparedBy}</div>\r\n                        <div className=\"text-sm text-gray-600\">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: {reportData.preparedDate}</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Floating Widget Controls */}\r\n          <div className=\"fixed bottom-6 right-6 z-50\">\r\n            <div className=\"flex flex-col gap-2\">\r\n              <div className=\"bg-white/95 backdrop-blur-sm rounded-lg p-3 shadow-lg border border-gray-200\">\r\n                <div className=\"text-sm font-medium text-gray-700 mb-2\">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏¥‡∏î‡πÄ‡∏à‡πá‡∏ï</div>\r\n                <div className=\"flex flex-col gap-1\">\r\n                  <button\r\n                    onClick={() => addNewWidget('about')}\r\n                    className=\"px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-all duration-200 text-sm font-medium text-left\"\r\n                  >\r\n                    ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô\r\n                  </button>\r\n                  <button\r\n                    onClick={() => addNewWidget('features')}\r\n                    className=\"px-3 py-2 bg-emerald-50 text-emerald-700 rounded-lg hover:bg-emerald-100 transition-all duration-200 text-sm font-medium text-left\"\r\n                  >\r\n                    ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏û‡∏¥‡πÄ‡∏®‡∏©\r\n                  </button>\r\n                  <button\r\n                    onClick={() => addNewWidget('actions')}\r\n                    className=\"px-3 py-2 bg-purple-50 text-purple-700 rounded-lg hover:bg-purple-100 transition-all duration-200 text-sm font-medium text-left\"\r\n                  >\r\n                    ‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡πà‡∏ß‡∏ô\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"bg-white/95 backdrop-blur-sm rounded-lg p-3 shadow-lg border border-gray-200\">\r\n                <div className=\"text-xs text-gray-600\">\r\n                  <div className=\"font-medium mb-1\">üí° ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>\r\n                  <div className=\"space-y-1\">\r\n                    <div>‚Ä¢ ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏´‡∏±‡∏ß‡∏ß‡∏¥‡∏î‡πÄ‡∏à‡πá‡∏ï‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏≤‡∏Å‡∏ß‡∏≤‡∏á</div>\r\n                    <div>‚Ä¢ ‡∏•‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏°‡∏∏‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î</div>\r\n                    <div>‚Ä¢ ‡∏Ñ‡∏•‡∏¥‡∏Å √ó ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏ö‡∏ß‡∏¥‡∏î‡πÄ‡∏à‡πá‡∏ï</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Render Draggable Widgets */}\r\n      {widgets.map((widget) => (\r\n        <DraggableWidgetComponent\r\n          key={widget.id}\r\n          widget={widget}\r\n          onMouseDown={handleMouseDown}\r\n          onResize={handleResize}\r\n          onToggleCollapse={toggleWidgetCollapse}\r\n          onRemove={removeWidget}\r\n          bringToFront={bringToFront}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}